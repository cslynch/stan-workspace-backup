{
  "metadata": {
    "version": "1.0",
    "created_at": "2026-02-12T18:57:00Z",
    "source": "stan@fleetbrain.ai",
    "description": "Append-only research log for FleetBrain projects"
  },
  "entries": [
    {
      "id": "sms-chat-bridge-2026-02-12",
      "date": "2026-02-12",
      "title": "SMS + Web Chat Bridge for Warm Lead Contact",
      "category": "product-infrastructure",
      "context": "Requirement: Prospect can text phone number or click web chat link, talk to Stan with zero friction (no app, no Telegram)",
      "platforms_evaluated": [
        {
          "name": "Twilio",
          "sms_support": true,
          "web_chat_support": "custom",
          "no_app_required": true,
          "monthly_cost": "$20-30",
          "setup_time_days": 1.5,
          "openclaw_integration": "native-plugin",
          "rank": 1,
          "summary": "SMS: $0.0075-0.015/msg; Web chat: expose chatCompletions endpoint via Tailscale; Phone number: $1-3/mo. Best fit—full control, existing OpenClaw plugin, unified routing."
        },
        {
          "name": "OpenPhone (Quo)",
          "sms_support": true,
          "web_chat_support": false,
          "no_app_required": false,
          "monthly_cost": "$15-35 base + overage",
          "setup_time_days": 1,
          "openclaw_integration": "webhook-bridge",
          "rank": 3,
          "summary": "Good for phone ops; no native web chat. Would need secondary tool. Better suited for human teams than AI agents."
        },
        {
          "name": "Crisp",
          "sms_support": true,
          "web_chat_support": true,
          "no_app_required": true,
          "monthly_cost": "$45-295",
          "setup_time_days": 1,
          "openclaw_integration": "api-bridge",
          "rank": 4,
          "summary": "All-in-one platform (SMS + chat + email + phone). Adds friction—prospects see Crisp UI instead of direct Stan connection. Better as secondary layer than primary."
        },
        {
          "name": "Intercom",
          "sms_support": "addon",
          "web_chat_support": true,
          "no_app_required": true,
          "monthly_cost": "$0.99/resolution",
          "setup_time_days": 2.5,
          "openclaw_integration": "custom-api",
          "rank": 5,
          "summary": "Enterprise-grade, overkill for single-agent ops. Seat-based pricing + resolution fees. Complex integration; skip."
        },
        {
          "name": "Tidio",
          "sms_support": true,
          "web_chat_support": true,
          "no_app_required": true,
          "monthly_cost": "$24-749",
          "setup_time_days": 1.5,
          "openclaw_integration": "webhook-bridge",
          "rank": 2,
          "summary": "Cheaper than Crisp; has API + Zapier. Still routes through Tidio inbox; would need custom webhook to push to Stan. Viable alternative to Twilio if want less infrastructure work."
        }
      ],
      "recommendation": {
        "platform": "Twilio + OpenClaw",
        "rationale": "Zero friction routing (SMS + web chat unified), full ownership, existing OpenClaw plugin, cost-effective linear scaling, fastest deployment.",
        "deployment_steps": [
          {
            "step": 1,
            "task": "Twilio account + phone number",
            "time_hours": 1,
            "owner": "Stan",
            "notes": "Need AccountSID + AuthToken"
          },
          {
            "step": 2,
            "task": "Configure SMS webhook",
            "time_hours": 4,
            "owner": "Stan",
            "notes": "Route incoming SMS → OpenClaw webhook endpoint"
          },
          {
            "step": 3,
            "task": "Deploy chatCompletions endpoint",
            "time_hours": 2,
            "owner": "Stan",
            "notes": "Expose via Tailscale funnel (secure); generate web chat link"
          },
          {
            "step": 4,
            "task": "Test & iterate",
            "time_hours": 2,
            "owner": "Stan + Casey",
            "notes": "Verify message routing, response handling, edge cases"
          }
        ],
        "total_time_hours": 9,
        "total_time_calendar_days": 1,
        "cost_first_month": "$30-50",
        "cost_recurring_monthly": "$20-30"
      },
      "requirements_from_casey": [
        "Twilio account creation + funding decision (use FleetBrain corp account)",
        "Phone number type: local vs toll-free (recommend local for warm leads)",
        "Public routing: Tailscale funnel (recommended) vs ngrok vs other",
        "Response format: single SMS vs multi-segment; character limit preference"
      ],
      "next_steps": [
        "Get Casey approval + funding authorization for Twilio",
        "Create tracker.json items for SMS bridge epic (4 subtasks)",
        "Begin Step 1 (Twilio setup)",
        "Sync updated research-log.json to StanleyBot shared folder"
      ],
      "confidence": "high",
      "notes": "Research based on current pricing (Feb 2026) and OpenClaw v2026.2.9 capabilities. Twilio voice-call plugin is documented; SMS extension is straightforward webhook routing. No blockers identified."
    },
    {
      "id": "google-chat-bot-2026-02-12",
      "date": "2026-02-12",
      "title": "Google Chat Bot Deployment for External User Messaging",
      "category": "product-infrastructure",
      "context": "Requirement: External users (outside fleetbrain.ai domain) can message stan@fleetbrain.ai via Google Chat and receive responses from Stan (OpenClaw agent). Phase 1 priority (Twilio SMS/web chat is Phase 2).",
      "architecture_options": [
        {
          "name": "HTTP Endpoint",
          "priority": 1,
          "selected": true,
          "sync": true,
          "response_latency_ms": "500-1000",
          "openclaw_integration": "native-webhook",
          "complexity": "medium",
          "admin_approval_needed": false,
          "summary": "External user message → Google Chat API → HTTP POST to OpenClaw endpoint → Stan processes → service account replies. Synchronous, real-time, best for agent interactions."
        },
        {
          "name": "Cloud Pub/Sub",
          "priority": 2,
          "selected": false,
          "sync": false,
          "response_latency_ms": "1000-3000",
          "openclaw_integration": "consumer-model",
          "complexity": "high",
          "admin_approval_needed": false,
          "summary": "Async decoupled approach. Handles burst traffic. Overkill for warm lead chat; slower than HTTP."
        },
        {
          "name": "Apps Script",
          "priority": 3,
          "selected": false,
          "sync": true,
          "response_latency_ms": "1500-2000",
          "openclaw_integration": "custom-bridge",
          "complexity": "low",
          "admin_approval_needed": false,
          "summary": "Native Google, zero infrastructure. Can't integrate with OpenClaw easily. Execution limits apply. Not recommended."
        }
      ],
      "service_account_setup": {
        "task_1": {
          "step": "Create Google Cloud Project",
          "details": "Create project + enable Chat API",
          "time_minutes": 10,
          "owner": "Stan"
        },
        "task_2": {
          "step": "Create Service Account",
          "details": "Name: stan-fleetbrain-bot; Generate JSON key file",
          "time_minutes": 5,
          "owner": "Stan"
        },
        "task_3": {
          "step": "Grant Chat API Scope",
          "details": "Scope: https://www.googleapis.com/auth/chat.bot (no admin approval needed)",
          "time_minutes": 1,
          "owner": "Automatic"
        },
        "task_4": {
          "step": "Deploy OpenClaw Endpoint",
          "details": "Create webhook endpoint; route to stan@fleetbrain.ai agent; validate Google Chat signatures",
          "time_minutes": 120,
          "owner": "Stan"
        },
        "task_5": {
          "step": "Register Chat App in Workspace",
          "details": "Google Chat settings; enable external users; link HTTP endpoint",
          "time_minutes": 10,
          "owner": "Stan (with Casey's admin settings)"
        }
      },
      "requirements_from_casey": [
        {
          "setting": "Enable External Chat",
          "path": "Admin console → Apps → Google Chat & Meet → Chat settings",
          "action": "Toggle 'Allow users to chat with external users' = ON",
          "time_minutes": 2,
          "criticality": "required"
        },
        {
          "setting": "Allow External Inbound Messaging",
          "path": "Admin console → Apps → Google Chat & Meet → Chat settings",
          "action": "Toggle 'Allow external users to message your organization' = ON",
          "time_minutes": 2,
          "criticality": "required"
        },
        {
          "setting": "Verify Stan User Account",
          "path": "Admin console → Users → stan@fleetbrain.ai",
          "action": "Confirm account exists; consider dedicated bot account if preferred",
          "time_minutes": 5,
          "criticality": "required"
        },
        {
          "setting": "Grant Service Account Permissions (optional)",
          "path": "Admin console → Security → API controls",
          "action": "Allowlist service account (stan-fleetbrain-bot@...) for Chat API",
          "time_minutes": 5,
          "criticality": "optional"
        },
        {
          "setting": "Set Up Chat DLP/Filtering (optional)",
          "path": "Admin console → Security → DLP & Printers",
          "action": "Create rule for Chat messages from external users; log/scan for malicious prompts",
          "time_minutes": 30,
          "criticality": "optional"
        }
      ],
      "deployment_timeline": {
        "total_hours": "7-8",
        "stan_hours": "6-7",
        "casey_hours": "0.25",
        "calendar_days": 1,
        "path": "Parallel: Stan builds endpoint while Casey enables settings"
      },
      "message_flow": {
        "step_1": "External user DMs stan@fleetbrain.ai in Google Chat",
        "step_2": "Google Chat API receives message, calls HTTP endpoint",
        "step_3": "OpenClaw webhook validates Google Chat signature",
        "step_4": "Message routed to stan@fleetbrain.ai agent",
        "step_5": "Stan processes; generates response",
        "step_6": "Service account calls Chat API: POST /spaces/{spaceId}/messages",
        "step_7": "Response appears in user's Chat (same thread)"
      },
      "security_notes": [
        "Store service account JSON key in Secret Manager (not git)",
        "Validate Chat API signature on all incoming requests",
        "Implement rate limiting (e.g., 10 msgs/min per external user)",
        "Implement content filtering (detect prompt injection patterns)",
        "Chat.bot scope is minimal; can't read all workspace data",
        "Service account can only message in spaces it's member of",
        "Log all external messages for audit trail"
      ],
      "blockers_and_risks": [
        {
          "risk": "External messaging disabled in Workspace",
          "severity": "high",
          "mitigation": "Casey must enable in Admin console (required step)"
        },
        {
          "risk": "OpenClaw HTTP endpoint exposure",
          "severity": "medium",
          "mitigation": "Use Tailscale funnel (secure) instead of public IP"
        },
        {
          "risk": "Message signature validation failure",
          "severity": "high",
          "mitigation": "Implement strict validation; reject unsigned requests"
        },
        {
          "risk": "Service account key compromise",
          "severity": "critical",
          "mitigation": "Rotate key yearly; store in Secret Manager; audit access"
        }
      ],
      "next_steps": [
        "Get Casey approval on admin requirements (15 min review)",
        "Stan creates GCP project + service account (15 min)",
        "Stan designs OpenClaw webhook endpoint (design phase)",
        "Casey enables external Chat in Admin console (parallel, 2 min)",
        "Stan implements endpoint + test locally (2-3 hrs)",
        "Stan exposes endpoint via Tailscale funnel (15 min)",
        "End-to-end test: external user → message → response (30 min)",
        "Integrate with OpenClaw main session (15 min)",
        "Document for future reference + create tracker tasks"
      ],
      "phase_2_integration": "Once Google Chat working, add Twilio SMS + web chat. Google Chat = known users. Twilio = unknown warm leads. Users can escalate SMS → Chat for continuity.",
      "confidence": "high",
      "notes": "Research based on Google Chat API v1 docs (Feb 2026), OpenClaw v2026.2.9. Service account with chat.bot scope requires NO admin approval (unlike chat.app.* scopes). External messaging requires Admin toggles but no special config. No technical blockers identified; all components documented and tested by Google."
    }
  ]
}
